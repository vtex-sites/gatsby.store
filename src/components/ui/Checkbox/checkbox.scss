@import "src/styles/scaffold";

[data-fs-checkbox] {
  // --------------------------------------------------------
  // Design Tokens for Checkbox
  // --------------------------------------------------------

  // Default properties
  --fs-checkbox-width                        : 1.25rem;
  --fs-checkbox-height                       : 1.25rem;

  --fs-checkbox-border                       : var(--fs-border-width) solid var(--fs-border-color);
  --fs-checkbox-border-radius                : var(--fs-border-radius);

  --fs-checkbox-transition                   : border .2s ease, background-color .2s ease, box-shadow .2s ease;

  --fs-checkbox-before-top                   : 0.188rem; // 3px
  --fs-checkbox-before-width                 : 0.375rem; // 6px
  --fs-checkbox-before-height                : 0.625rem; // 10px
  --fs-checkbox-before-border                : var(--fs-border-width-thick) solid var(--fs-color-neutral-0);
  --fs-checkbox-before-border-radius         : var(--fs-border-width);
  --fs-checkbox-before-transform             : rotate(45deg);

  --fs-checkbox-bkg-color-hover              : var(--fs-color-primary-bkg-light);
  --fs-checkbox-border-color-hover           : var(--fs-color-text);
  --fs-checkbox-shadow-hover                 : 0 0 0 var(--fs-border-width) var(--fs-border-color-active);

  // Checked
  --fs-checkbox-bkg-color-checked            : var(--fs-color-primary-bkg);
  --fs-checkbox-border-color-checked         : var(--fs-border-color-active);
  --fs-checkbox-bkg-color-checked-hover      : var(--fs-color-primary-bkg-hover);

  // Disabled
  --fs-checkbox-bkg-color-disabled           : var(--fs-color-disabled-bkg);
  --fs-checkbox-border-disabled              : var(--fs-border-width) solid var(--fs-border-color-disabled);
  --fs-checkbox-border-color-disabled        : var(--fs-border-color-disabled);
  --fs-checkbox-text-color-disabled          : var(--fs-color-disabled-text);

  // Partial
  --fs-checkbox-partial-bkg-color            : var(--fs-color-neutral-0);
  --fs-checkbox-partial-border               : var(--fs-border-width) solid var(--fs-color-primary-bkg);

  --fs-checkbox-partial-before-width         : 0.625rem; // 10px
  --fs-checkbox-partial-before-border-bottom : var(--fs-border-width-thick) solid var(--fs-color-primary-bkg);
  --fs-checkbox-partial-before-border-radius : var(--fs-border-width);
  --fs-checkbox-partial-before-transform     : rotate(0deg);
  --fs-checkbox-partial-hover                : var(--fs-color-primary-bkg-light);

  // --------------------------------------------------------
  // Structural Styles
  // --------------------------------------------------------

  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--fs-checkbox-width);
  height: var(--fs-checkbox-height);
  cursor: pointer;
  border: var(--fs-checkbox-border);
  border-radius: var(--fs-checkbox-border-radius);
  outline: none;
  transition: var(--fs-checkbox-transition);
  appearance: none;

  @include input-focus-ring;

  &::before {
    position: absolute;
    top: var(--fs-checkbox-before-top);
    width: var(--fs-checkbox-before-width);
    height: var(--fs-checkbox-before-height);
    content: "";
    border: var(--fs-checkbox-before-border);
    border-top: 0;
    border-left: 0;
    border-radius: var(--fs-checkbox-before-border-radius);
    opacity: 0;
    transform: var(--fs-checkbox-before-transform);
  }

  &:hover {
    background-color: var(--fs-checkbox-bkg-color-hover);
    border-color: var(--fs-checkbox-border-color-hover);
    box-shadow: var(--fs-checkbox-shadow-hover);
  }

  &:checked {
    background-color: var(--fs-checkbox-bkg-color-checked);
    border-color: var(--fs-checkbox-border-color-checked);
    border-width: 0;

    &::before {
      opacity: 1;
    }

    &:hover {
      background-color: var(--fs-checkbox-bkg-color-checked-hover);
      box-shadow: none;
    }
  }

  &:disabled {
    cursor: not-allowed;
    background-color: var(--fs-checkbox-bkg-color-disabled);
    border: var(--fs-checkbox-border-disabled);

    &::before {
      border-color: var(--fs-checkbox-border-color-disabled);
    }

    &:hover {
      background-color: var(--fs-checkbox-bkg-color-disabled);
      border: var(--fs-checkbox-border-disabled);

      &::before {
        border-color: var(--fs-checkbox-border-color-disabled);
      }
    }

    + label {
      color: var(--fs-checkbox-text-color-disabled);
    }
  }

  &[data-fs-store-checkbox-partial="true"] {
    background-color: var(--fs-checkbox-partial-bkg-color);
    border: var(--fs-checkbox-partial-border);

    &::before {
      position: absolute;
      top: auto;
      width: var(--fs-checkbox-partial-before-width);
      height: 0;
      content: "";
      border-width: 0;
      border-bottom: var(--fs-checkbox-partial-before-border-bottom);
      border-radius: var(--fs-checkbox-partial-before-border-radius);
      opacity: 1;
      transform: var(--fs-checkbox-partial-before-transform);
    }

    &:checked {
      &:hover {
        background-color: var(--fs-checkbox-partial-hover);
      }
    }

    &:hover {
      background-color: var(--fs-checkbox-partial-hover);
    }
  }
}
